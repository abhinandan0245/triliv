!function(t){"use strict";var a=function(){const a=document.getElementById("price-value-range");if(!a||!a.dataset)return void console.warn("Price slider element not found or has no dataset.");const e=parseInt(a.dataset.min,10)||0,i=parseInt(a.dataset.max,10)||500,o={minPrice:e,maxPrice:i,size:null,color:null,availability:null,brands:null,sale:!1};function s(){const a=t("#applied-filters"),s=t(".meta-filter-shop");a.empty(),o.availability&&a.append(`<span class="filter-tag remove-tag" data-filter="availability"><span class="icon-close"></span> Availability: ${o.availability} </span>`),o.brands&&a.append(`<span class="filter-tag remove-tag" data-filter="brand"><span class="icon-close"></span>Brand: ${o.brands}</span>`),(o.minPrice>e||o.maxPrice<i)&&a.append(`<span class="filter-tag remove-tag" data-filter="price"><span class="icon-close"></span>Price: $${o.minPrice} - $${o.maxPrice}</span>`),o.color&&a.append(`<span class="filter-tag remove-tag " data-filter="color"><span class="icon-close"></span>Color: ${o.color}</span>`),o.size&&a.append(`<span class="filter-tag remove-tag" data-filter="size"><span class="icon-close"></span>Size: ${o.size}</span>`),o.sale&&a.append('<span class="filter-tag on-sale d-none remove-tag" data-filter="sale">On Sale <span class="icon-close"></span></span>');const l=a.children().length>0;s.toggle(l),t("#remove-all").toggle(l)}function l(){let a=0,e=0;t(".wrapper-shop .card-product").each(function(){const i=t(this);let s=!0;const l=i.find(".price-new").text().replace("$",""),n=parseFloat(l);if((n<o.minPrice||n>o.maxPrice)&&(s=!1),o.size&&!i.find(`.size-item:contains('${o.size}')`).length&&(s=!1),o.color&&!i.find(`.color-swatch:contains('${o.color}')`).length&&(s=!1),o.availability){const t=i.data("availability");o.availability!==t&&(s=!1)}if(o.sale&&(i.find(".on-sale-wrap").length||(s=!1)),o.brands){const t=i.attr("data-brand");o.brands!==t&&(s=!1)}i.toggle(s),s&&(i.hasClass("grid")?a++:i.hasClass("style-list")&&e++)}),t("#product-count-grid").html(`<span class="count">${a}</span> ${1===a?"Product":"Products"} found`),t("#product-count-list").html(`<span class="count">${e}</span> ${1===e?"Product":"Products"} found`),setTimeout(()=>{t(".card-product.style-list").removeClass("last");const a=t(".card-product.style-list:visible").last();a.length>0&&a.addClass("last")},50),a>=12||e>=12?t(".wrapper-shop .wg-pagination,.wrapper-shop .tf-loading").show():t(".wrapper-shop .wg-pagination,.wrapper-shop .tf-loading").hide()}a.noUiSlider.on("update",function(a){o.minPrice=parseInt(a[0],10),o.maxPrice=parseInt(a[1],10),t("#price-min-value").text(o.minPrice),t("#price-max-value").text(o.maxPrice),l(),s()}),t(".size-check").on("click",function(){o.size=t(this).find(".size").text().trim(),l(),s()}),t(".color-check").on("click",function(){o.color=t(this).find(".color-text").text().trim(),l(),s()}),t('input[name="availability"]').on("change",function(){o.availability="inStock"===t(this).attr("id")?"In stock":"Out of stock",l(),s()}),t('input[name="brand"]').on("change",function(){o.brands=t(this).attr("id"),l(),s()}),t(".shop-sale-text").on("click",function(){o.sale=!o.sale,t(this).toggleClass("active",o.sale),l(),s()}),t("#applied-filters").on("click",".remove-tag",function(){const n=t(this).data("filter");"size"===n&&(o.size=null,t(".size-check").removeClass("active")),"color"===n&&(o.color=null,t(".color-check").removeClass("active")),"availability"===n&&(o.availability=null,t('input[name="availability"]').prop("checked",!1)),"brand"===n&&(o.brands=null,t('input[name="brand"]').prop("checked",!1)),"price"===n&&(o.minPrice=e,o.maxPrice=i,a.noUiSlider.set([e,i])),"sale"===n&&(o.sale=!1,t(".shop-sale-text").removeClass("active")),l(),s()}),t("#remove-all,#reset-filter").on("click",function(){o.size=null,o.color=null,o.availability=null,o.brands=null,o.minPrice=e,o.maxPrice=i,o.sale=!1,t(".shop-sale-text").removeClass("active"),t('input[name="brand"]').prop("checked",!1),t('input[name="availability"]').prop("checked",!1),t(".size-check, .color-check").removeClass("active"),a.noUiSlider.set([e,i]),l(),s()}),t(".reset-price").on("click",function(){o.minPrice=e,o.maxPrice=i,a.noUiSlider.set([e,i]),l(),s()})},e=function(){let a=t(".sw-layout-list").hasClass("active"),e=t("#listLayout .card-product").clone(),i=t("#gridLayout .card-product").clone(),o=t("#listLayout .wg-pagination").clone(),s=t("#gridLayout .wg-pagination").clone();function l(a,e){a.length>=12&&(e?t("#listLayout").append(o.clone()):t("#gridLayout").append(s.clone()))}function n(){t(".card-product").length>0&&t(".color-swatch").on("click, mouseover",function(){var a=t(this).find("img").attr("src");t(this).closest(".card-product").find(".img-product").attr("src",a),t(this).closest(".card-product").find(".color-swatch.active").removeClass("active"),t(this).addClass("active")}),t(".size-box").on("click",".size-item",function(){t(this).closest(".size-box").find(".size-item").removeClass("active"),t(this).addClass("active")})}t(".select-item").on("click",function(){const o=t(this).data("sort-value");t(".select-item").removeClass("active"),t(this).addClass("active"),t(".text-sort-value").text(t(this).find(".text-value-item").text()),function(a,o){let s;s=t(o?"#listLayout .card-product":"#gridLayout .card-product");if("best-selling"===a)return o?t("#listLayout").empty().append(e.clone()):t("#gridLayout").empty().append(i.clone()),n(),void l(s,o);"price-low-high"===a?s.sort((a,e)=>parseFloat(t(a).find(".price-new").text().replace("$",""))-parseFloat(t(e).find(".price-new").text().replace("$",""))):"price-high-low"===a?s.sort((a,e)=>parseFloat(t(e).find(".price-new").text().replace("$",""))-parseFloat(t(a).find(".price-new").text().replace("$",""))):"a-z"===a?s.sort((a,e)=>t(a).find(".name-product").text().localeCompare(t(e).find(".name-product").text())):"z-a"===a&&s.sort((a,e)=>t(e).find(".name-product").text().localeCompare(t(a).find(".name-product").text()));o?t("#listLayout").empty().append(s):t("#gridLayout").empty().append(s);n(),l(s,o)}(o,a)}),t(".tf-view-layout-switch").on("click",function(){const e=t(this).data("value-layout");var i;"list"===e?(a=!0,t("#gridLayout").hide(),t("#listLayout").show()):(a=!1,t("#listLayout").hide(),i=e,t("#gridLayout").show().removeClass().addClass(`wrapper-shop tf-grid-layout ${i}`),t(".tf-view-layout-switch").removeClass("active"),t(`.tf-view-layout-switch[data-value-layout="${i}"]`).addClass("active"))}),n()},i=function(){let a=t(".sw-layout-list").hasClass("active"),e=null;function i(){const i=t(window).width(),s=t("#gridLayout").attr("class");if(t("#gridLayout").hasClass("tf-col-2")||t("#gridLayout").hasClass("tf-col-3")||t("#gridLayout").hasClass("tf-col-4")||t("#gridLayout").hasClass("tf-col-5")||t("#gridLayout").hasClass("tf-col-6")||t("#gridLayout").hasClass("tf-col-7"))return a?(t("#gridLayout").hide(),t("#listLayout").show(),void t(".wrapper-control-shop").addClass("listLayout-wrapper").removeClass("gridLayout-wrapper")):void(e?o(i<=767?"tf-col-2":i<=1200&&"tf-col-2"!==e?"tf-col-3":i<=1400&&("tf-col-5"===e||"tf-col-6"===e||"tf-col-7"===e)?"tf-col-4":e):i<=767?s.includes("tf-col-2")||o("tf-col-2"):i<=1200?s.includes("tf-col-3")||o("tf-col-3"):i<=1400?(s.includes("tf-col-5")||s.includes("tf-col-6")||s.includes("tf-col-7"))&&o("tf-col-4"):(t("#listLayout").hide(),t("#gridLayout").show(),t(".wrapper-control-shop").addClass("gridLayout-wrapper").removeClass("listLayout-wrapper")));console.warn("Page does not contain a valid layout (2-7 columns), skipping layout adjustments.")}function o(e){t("#listLayout").hide(),t("#gridLayout").show().removeClass().addClass(`wrapper-shop tf-grid-layout ${e}`),t(".tf-view-layout-switch").removeClass("active"),t(`.tf-view-layout-switch[data-value-layout="${e}"]`).addClass("active"),t(".wrapper-control-shop").addClass("gridLayout-wrapper").removeClass("listLayout-wrapper"),a=!1}t(document).ready(function(){a?(t("#gridLayout").hide(),t("#listLayout").show(),t(".wrapper-control-shop").addClass("listLayout-wrapper").removeClass("gridLayout-wrapper")):(t("#listLayout").hide(),t("#gridLayout").show(),i())}),t(window).on("resize",i),t(".tf-view-layout-switch").on("click",function(){const i=t(this).data("value-layout");t(".tf-view-layout-switch").removeClass("active"),t(this).addClass("active"),t(".wrapper-control-shop").addClass("loading-shop"),setTimeout(()=>{t(".wrapper-control-shop").removeClass("loading-shop"),a?(t("#gridLayout").css("display","none"),t("#listLayout").css("display","")):(t("#listLayout").css("display","none"),t("#gridLayout").css("display",""))},500),"list"===i?(a=!0,e=null,t("#gridLayout").hide(),t("#listLayout").show(),t(".wrapper-control-shop").addClass("listLayout-wrapper").removeClass("gridLayout-wrapper")):(e=i,o(i))})},o=function(){let a,e=4,i=8;function o(a,e){a.find(".loadItem").each(function(a){a>=e&&t(this).addClass("hidden")}),a.is("#listLayout")&&l(a)}function s(a,e,i){const o=a.find(".loadItem.hidden");return setTimeout(function(){o.slice(0,e).removeClass("hidden"),a.is("#listLayout")&&l(a),function(a){0===a.find(".loadItem.hidden").length&&(a.is("#listLayout")?(t("#loadMoreListBtn").hide(),t("#infiniteScrollList").hide()):a.is("#gridLayout")&&(t("#loadMoreGridBtn").hide(),t("#infiniteScrollGrid").hide()))}(a)},600),i+e}function l(t){t.find(".loadItem").removeClass("last-visible"),t.find(".loadItem").not(".hidden").last().addClass("last-visible")}function n(t){const a=t[0].getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)}o(t("#listLayout"),e),o(t("#gridLayout"),i),t("#loadMoreListBtn").on("click",function(){e=s(t("#listLayout"),2,e)}),t("#loadMoreGridBtn").on("click",function(){i=s(t("#gridLayout"),4,i)}),t(window).on("scroll",function(){clearTimeout(a),a=setTimeout(function(){const a=t("#infiniteScrollList"),o=t("#infiniteScrollGrid");a.is(":visible")&&n(a)&&(e=s(t("#listLayout"),2,e)),o.is(":visible")&&n(o)&&(i=s(t("#gridLayout"),4,i))},300)})};t(function(){!function(){if(t("#price-value-range").length>0){var a=document.getElementById("price-value-range"),e=[document.getElementById("price-min-value"),document.getElementById("price-max-value")],i=parseInt(a.getAttribute("data-min"),10)||0,o=parseInt(a.getAttribute("data-max"),10)||500;noUiSlider.create(a,{start:[i,o],connect:!0,step:1,range:{min:i,max:o},format:{from:function(t){return parseInt(t,10)},to:function(t){return parseInt(t,10)}}}),a.noUiSlider.on("update",function(t,a){e[a].innerText=t[a]})}}(),a(),e(),i(),o(),t(".btn-filterDropdown").click(function(a){a.stopPropagation(),t(".filter-drawer-wrap").toggleClass("show"),t(this).toggleClass("active");var e=t(this).find(".icon");t(this).hasClass("active")?e.removeClass("icon-filter").addClass("icon-close"):e.removeClass("icon-close").addClass("icon-filter"),t(window).width()<=1199&&t(".overlay-filter").addClass("show")}),t(document).click(function(a){t(a.target).closest(".wrapper-filter-dropdown").length||(t(".filter-drawer-wrap").removeClass("show"),t(".btn-filterDropdown").removeClass("active"),t(".btn-filterDropdown .icon").removeClass("icon-close").addClass("icon-filter"))}),t(".close-filter ,.overlay-filter").click(function(){t(".filter-drawer-wrap").removeClass("show"),t(".btn-filterDropdown").removeClass("active"),t(".btn-filterDropdown .icon").removeClass("icon-close").addClass("icon-filter"),t(".overlay-filter").removeClass("show")})})}(jQuery);