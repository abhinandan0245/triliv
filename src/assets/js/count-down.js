"use strict";function Util(){}Util.setAttributes=function(t,e){for(var n in e)t.setAttribute(n,e[n])},function(){var t=function(t){this.element=t,this.labels=this.element.getAttribute("data-labels")?this.element.getAttribute("data-labels").split(","):[],this.intervalId,this.setVisibleLabels(),this.createCountDown(),this.days=this.element.getElementsByClassName("js-countdown__value--0")[0],this.hours=this.element.getElementsByClassName("js-countdown__value--1")[0],this.mins=this.element.getElementsByClassName("js-countdown__value--2")[0],this.secs=this.element.getElementsByClassName("js-countdown__value--3")[0],this.endTime=this.getEndTime(),this.initCountDown()};t.prototype.setVisibleLabels=function(){this.visibleLabels=this.element.getAttribute("data-visible-labels")?this.element.getAttribute("data-visible-labels").split(","):[],this.visibleLabels=this.visibleLabels.map(function(t){return t.trim()})},t.prototype.createCountDown=function(){var t=document.createElement("div");Util.setAttributes(t,{"aria-hidden":"true",class:"countdown__timer"});for(var e=0;e<4;e++){var n=document.createElement("span"),s=document.createElement("span"),i=document.createElement("span");n.setAttribute("class","countdown__item"),s.setAttribute("class","countdown__value countdown__value--"+e+" js-countdown__value--"+e),n.appendChild(s),this.labels&&this.labels.length>0&&(i.textContent=this.labels[e].trim(),i.setAttribute("class","countdown__label"),n.appendChild(i)),t.appendChild(n)}this.element.insertBefore(t,this.element.firstChild)},t.prototype.getEndTime=function(){return this.element.getAttribute("data-timer")?1e3*Number(this.element.getAttribute("data-timer"))+(new Date).getTime():this.element.getAttribute("data-countdown")?Number(new Date(this.element.getAttribute("data-countdown")).getTime()):void 0},t.prototype.initCountDown=function(){this.updateCountDown()},t.prototype.updateCountDown=function(t){var e=Math.floor((this.endTime-(new Date).getTime())/1e3),n=0,s=0,i=0,l=0;if(isNaN(e)||e<0)return void this.emitEndEvent();n=parseInt(e/86400),e%=86400,s=parseInt(e/3600),e%=3600,i=parseInt(e/60),e%=60,l=parseInt(e),(!this.labels||this.labels.length<4)&&(this.labels=["Days","Hours","Mins","Secs"]);let a=[...this.labels];1===n&&(a[0]=this.labels[0].replace(/s$/,"")),1===s&&(a[1]=this.labels[1].replace(/s$/,"")),1===i&&(a[2]=this.labels[2].replace(/s$/,"")),1===l&&(a[3]=this.labels[3].replace(/s$/,"")),this.days.textContent=n.toString(),this.hours.textContent=this.getTimeFormat(s),this.mins.textContent=this.getTimeFormat(i),this.secs.textContent=this.getTimeFormat(l);let o=this.element.getElementsByClassName("countdown__item");for(let t=0;t<o.length;t++){let e=o[t].querySelector(".countdown__label");e&&(e.textContent=a[t])}setTimeout(()=>this.updateCountDown(!1),1e3)},t.prototype.getTimeFormat=function(t){return t.toString()},t.prototype.emitEndEvent=function(t){var e=new CustomEvent("countDownFinished");this.element.dispatchEvent(e)},window.addEventListener("load",function(){var e=document.getElementsByClassName("js-countdown");if(e.length>0)for(var n=0;n<e.length;n++)(function(n){new t(e[n])})(n)})}();